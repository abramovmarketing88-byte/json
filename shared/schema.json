{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TelegramMessage",
  "description": "Структура сообщения для экспорта с метриками",
  "type": "object",
  "properties": {
    "message_id": { "type": "integer", "description": "ID сообщения" },
    "timestamp": { "type": "string", "description": "Дата/время ISO или читаемый формат" },
    "sender_id": { "type": ["string", "integer"], "description": "ID отправителя" },
    "sender_name": { "type": "string", "description": "Имя/username отправителя" },
    "text_content": { "type": "string", "description": "Текст сообщения" },
    "reply_to_id": { "type": ["integer", "null"], "description": "ID сообщения, на которое ответ" },
    "reactions_count": { "type": "integer", "description": "Количество реакций" },
    "views": { "type": "integer", "description": "Количество просмотров" },
    "reactions_breakdown": {
      "type": "object",
      "description": "Реакции по emoji",
      "additionalProperties": { "type": "integer" }
    }
  },
  "required": ["message_id", "text_content"]
}
